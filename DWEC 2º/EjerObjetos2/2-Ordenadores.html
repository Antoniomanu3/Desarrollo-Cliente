
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ordenadores</title>
<script type="text/javascript" src="https://gc.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=2Ggj-Redu-L7dEWDhk7z5o0l0Jgz_jhdfvqlTO9B5AqZW8QFmAp3B74H2ZiK1W9i7fUxZGta4-qpbpywmcB5CPpTcXgtQy8ebaDpdmhMnDsxU5oDJNFHRRghoOS28DC-vovvavEAfhDnIVy4buika_HBuYPk6RJhLTODss0ILTtmbS3w9s0q97LJlh4UhcywNNAXO_5-ti3lowVGfszZlET7un2Ii-v7H51Y_3sPKMLga5cHELzBmZ1ZiZx2K4-y6YnphEkWGvS1yAO5hkoTiKa6FNgc_WOuLE9ulLwIAWfwQkoA7Kw_QejlOdi6uXWt3uLdfCjXoYKZZrybCK-E82-CgKtdUkFP-fucNNkahyjTG4QTZZfo5Gu1FnLCIyDpnR5V1aSZAx6BrcfCg07WcZi9GkJrScFaGBvb2yVF-SlhfUqwvEFr6wtL5ZirpXuqbMKSjPRbq6pjBBWeELqLpMJrw5qwoY9oMIJCcU6jmkd6busT26glaBfvmEekUO0VBU8Pvt-8X47hIMsUM56rF5vAhh7Vo1TLApL4OrZgXsDKH0cu5w9zCaZqTVfCmD2dQH0O4L8hP6rPVqUvmLjAim3ACLiHQmkko3zwhQVEmLljN09u-N0XMoUB1Q0qClByUAhGWec5QOQd-WS63dJS4UpeWyz5pSyfwuES3vmHppU_yKQtLSo5LDE83n2tXwbmSeAutq-Q-edf5ndjGrTAOKqQGlJtctHOY1FijuHUh2v1YUwiKiYvSjMQrzdACyqEjqQwYrRQaF67oeihj78orMtDwBuNLhB4H85PNDDmnsenzG6OkKW5eL_vpjICLJ5BGduz_ytxOhyQqA1T1ASpNrRfPmQThsZdySZh2lKsHPhEWu0NmtpxKtMTWiUqVJcDhH4MOtAEf3mF87OGNTxITKpksV8gGil-xkZB2ap2ED_HnV08qat-Y09_X3VwQv6GUXvkDyups0J9y6gYT21pMSm3EvTdn1JE-bX9YdYLyRj8xnJktaX3nb-9wGeMgF7FWabgmCknAG7QzmculK5oSYomTwcxC1oxfkZVmpPc_C5Cs4MWv86PEHKkF_YCmrKKQ2KgClcPNksZ0gevQhO3bQQTFQTwBi2prwS86RGRtJDQDBLhYoHTLocZB3XmcttuZnjnOEzewP8bm2_vbkM2p4rBPMbWD2GfDatL_9Q5VfWo8_FcsastdSePDvg0U0s3aQTz1iJ9FCLBeloIcZbj9w" nonce="f9f21c2ee7ee9a7bb1618e648693f1dd" charset="UTF-8"></script><link rel="stylesheet" crossorigin="anonymous" href="https://gc.kis.v2.scr.kaspersky-labs.com/E3E8934C-235A-4B0E-825A-35A08381A191/abn/main.css?attr=aHR0cHM6Ly9tYWlsLWF0dGFjaG1lbnQuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2F0dGFjaG1lbnQvdS8wLz91aT0yJmlrPTI3NGIwOWYxNGQmYXR0aWQ9MC4xJnBlcm1tc2dpZD1tc2ctZjoxNzE3MjA2NzIwMjY2MDg2NDE2JnRoPTE3ZDRiZTY5Zjc1ZmE4MTAmdmlldz1hdHQmZGlzcD1zYWZlJnJlYWxhdHRpZD1mX2t3YnUxeXJiMCZzYWRkYmF0PUFOR2pkSjlWdDRybGdKVUcxbXAtTUFHR0hBanBNS0VWeVdCelRhdzNwdGhTMGcxYkMwMGF4bkFIREVNMnoxcTJPbVFWX09ieGJkYXRkSnZmYTNNWDl4TVRNNVBvUTc1bWtFWS11VE94NFlkaVVMelpLYkhRWG96TVAtdlBMX3IyZVM1WDNDX2FPVzZnZmdCeXRnLUtZbUlxWEV1T01NaWMwZWNvSHIwU3ZvV2VXZzFiZEx6aGxYbVJMS2t4Mzh2LW5ZOFhuYkN6OXN6NDhhRTVDZlR2ZG1lekpzRXhGWnR2ZTA5OXFjWHRpUU9aSnI5Y2pTamUyNGRrU05yYnA0anFpTWFSOTRZTDhnV2RtY0RvcGU1RFVXcE1TYkN5UlRtaTdMdVNQMmdQU2N5WmV5Mk12dU41T1ZycEx4SVNWQ29ISk02M3dOWEQ5MlV0bHNGUl9IWGZRWXFpS1BYVHBINHZndVB1NHA0VmwydEp1MnFfZkpZSkRlQUQyNElNbjZucGtYRzRJRDVBNFhVSXhYZE1xSVgxdDN1d01SaEdEVWVZNDN2OEtpUlhtM1RTUmNiLUNkU2JHdk4xdWhLLXd3WVBKOFh3NlVkU05vU1VsNEtRY0czVWpFY1Jac0R1Mm9fME4ya1ZpVjVkaHRfTEVpUGxnYlk1UFpOZzRwb21MVW14MEFwd2NkUE91ZmRIeE5tclBYc2R5aTU1VkQyNWFncEhEVlU4QnJheDBvMnI3VUJlYXM5Z2dVVnFRVGN1Y1hSd0FhNklSbjgyNGpMSG5WTk9wS1B1S0JiaGh6TEdqZFVUSnFwd2hIU3BsV3FNLUFTZTY3QXUwR05KWF9zWnpRUU1xWWJpX2x3NHdRS05yYldHTEVxbzVSMV9pX25ZNGI3aC1oRzZPb1JhM2tIbTh6a3YxMmRqT3dFTkNPSEl3SGs"/></head>
<body>
    <form>
        Marca: <input type="text"><br>
        Modelo: <input type="number"><br>
        Memoria RAM: <input type="number"><br>
        Microprocesador: <input type="text"><br>
        Gráfica: <input type="text"><br>
        Portátil: Sí <input type="radio" name="portatil" value="Si">
        No <input type="radio" name="portatil" value="No"><br>

        <!-- le atribuyo el valor del switch al onclick -->
        <input type="button" value="Añadir" onClick="accion(this.value)"> 
        <input type="button" value="Consultar" onClick="accion(this.value)"> 
        <input type="button" value="Eliminar" onClick="accion(this.value)"> 
        <input type="button" value="Borrar Campos" onClick="accion(this.value)"> <br>
        
        <textarea rows="10" columns="20"></textarea>   
        
        <h1>IMAGEN TARJETA GRÁFICA</h1>
        <img src="" id="imagen">

    </form>

    <script>
        var ordenadores = [];
        var id = 1;

        var marca = document.getElementsByTagName("input")[0];
        var modelo = document.getElementsByTagName("input")[1];
        var memoria = document.getElementsByTagName("input")[2];
        var microprocesador = document.getElementsByTagName("input")[3];
        var grafica = document.getElementsByTagName("input")[4];
        var portatil = document.forms[0].portatil;
        

        function accion(valor){
            switch (valor){          
                case "Añadir": añadir();
                    break;

                case "Consultar": consultar(); 
                    break;

                case "Eliminar": eliminar();
                    break;

                case "Limpiar campos": limpiar();
                    break;
            }
        }

        
        function Ordenador(id, marca, modelo, memoria, microprocesador, grafica, portatil, imagen){
            this.id = id;
            this.marca = marca;
            this.modelo = modelo; 
            this.memoria = memoria;
            this.microprocesador = microprocesador;
            this.grafica = grafica;
            this.portatil = portatil;
            this.imagen = imagen;

            Ordenador.prototype.toString = function(){
                return "Ordenador: " + this.id + "\n" +  " Marca: " + this.marca + " Modelo: " + this.modelo + " Memoria: " + this.memoria + " Microprocesador: " + this.microprocesador + " Gráfica: " + this.grafica + " Portatil: " + this.portatil;
            }
        }

        function añadir(){
            //creo el nuevo objeto
            var ordenador = new Ordenador(id, marca.value, modelo.value, memoria.value, microprocesador.value, grafica.value, portatil.value, "grafica.jpg");

            ordenadores.push(ordenador);
            alert("Se ha añadido correctamente el ordenador " + ordenador.marca);

            //cada ordenador tiene un id unico
            id++;

            limpiar();
        }

        function consultar(){
            marcaIntr = marca.value;
            var libroEncontrado = false;

            for(let ordenador of ordenadores){
                if(marcaIntr == ordenador.marca){
                    //convertimos a string
                    document.getElementsByTagName("textarea")[0].value = ordenador.toString();
                    document.getElementById("imagen").src = ordenador.imagen;

                    libroEncontrado = true;
                    break;
                }
            }

            if(!libroEncontrado){
                alert ("El ordenador no ha sido encontrado en la base de datos");
            }     
        }      

        function eliminar(){
            for(let ordenador of ordenadores){
                if(marcaIntr == ordenador.marca){

                    ordenadores.splice((ordenador.id)-1, 1);

                    libroEncontrado = true;
                    alert("Se ha eliminado correctamente el ordenador con id: " + ordenador.id);

                    break;
                }
            }

            if(!libroEncontrado){
                alert ("El ordenador a eliminar no ha sido encontrado en la base de datos");
            }   

            limpiar();
        }

        function limpiar(){

            //limpio los 5 de una vez en vez de repetir escribir codigo
            for(var i=0; i<5; i++){
                document.getElementsByTagName("input")[i].value = "";
            }

            //limpio el textarea
            document.getElementsByTagName("textarea")[0].value = "";
        }
        
    </script>
</body>
</html>