<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa de palabras repetidas en un array</title>
</head>
<body>
    <script>
        var arrayPalabras=new Array();
        var mapaext;
        //Realizamos una petición de palabra previa al bucle while.
        //Creación del mapa de repeticiones
        function mapaRepeticiones(lista){
            if (lista instanceof Array == false){
                //El parámetro pasado no es un array
                return null;
            }
            else{
                let mapaint=new Map();
                //El mapa se va a construir asignando clave a cada valor del array pasado
                //serán las claves del mapa
                for (let clave of lista){
                    //comprobamos si el valor se encuentra en el mapa
                    if (mapaint.get(clave)!= undefined){
                        //Esto significa que debemos incrementar el contador de las veces que se encuentra
                        //la palabra en el array, y habrá que reflejarlo en el mapa
                        mapaint.set(clave,mapaint.get(clave)+1);
                    }
                    else{
                        //Si es una palabra nueva en el mapa, se inicializa el contador
                        mapaint.set(clave,1);
                    }
                }
                return mapaint;
            }
        }
        
        var palabra=prompt("Introduzca una palabra (o nada si desea finalizar)");
        while (palabra!=null && palabra !=""){
            arrayPalabras.push(palabra);
            palabra=prompt("Introduzca una palabra (o nada si desea finalizar)");
        }
        //ordenamos el array
        arrayPalabras.sort((a,b)=>(a.localeCompare(b,"es")));
        //convertimos en mapa
        mapaext=mapaRepeticiones(arrayPalabras);
        //recorremos el mapa y mostramos las repeticiones
        for ([palabra,cont] of mapaext){
            document.write(`<p>${palabra}, ${cont} repeticiones</p>`);
        }

    </script>
</body>
</html>